pipeline
{
  agent any
  tools
  {
    jdk 'jdk21'
  }
  stages
  {
    stage('checkout')
    {
      steps
      {
        git branch:'main',url:'https://github.com/Ganesh-Kalyanshetti/Devops-Class.git'  
      }

    }
    stage('Complie')
    {
      steps
      {
        echo "Compiling Java code"
        sh 'javac one.java'
      }
    }

    stage('run')
    {
      steps
      {
        echo "Running Java code"
        sh 'java one'
      }
    }
    
  }
  post 
    {
      success
      {
        echo 'Build and executed successfull'
      }
      failure
      {
        echo 'Failed to run java file'
      }
    }

}

